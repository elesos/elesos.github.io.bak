<!DOCTYPE html><html lang="zh-CN" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="天前"><meta name="hour-prompt" content="小时前"><meta name="minute-prompt" content="分钟前"><meta name="justnow-prompt" content="刚刚"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="GN Style Guide" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="Naming and ordering within the file" /><meta property="og:description" content="Naming and ordering within the file" /><link rel="canonical" href="https://elesos.github.io/posts/gn-style_guide/" /><meta property="og:url" content="https://elesos.github.io/posts/gn-style_guide/" /><meta property="og:site_name" content="艺搜天下" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-04T13:30:10+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="GN Style Guide" /><meta name="twitter:site" content="@hnrayer" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"https://elesos.github.io/posts/gn-style_guide/"},"description":"Naming and ordering within the file","url":"https://elesos.github.io/posts/gn-style_guide/","@type":"BlogPosting","headline":"GN Style Guide","dateModified":"2022-01-22T21:24:09+08:00","datePublished":"2021-07-04T13:30:10+08:00","@context":"https://schema.org"}</script><title>GN Style Guide | 艺搜天下</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="艺搜天下"><meta name="application-name" content="艺搜天下"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">艺搜天下</a></div><div class="site-subtitle font-italic">知行合一 以人为镜</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/starRTC" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/hnrayer" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['admin','elesos.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>GN Style Guide</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>GN Style Guide</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> elesos </span> 发表于 <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="2021-07-04, 13:30 +0800" >2021-07-04<i class="unloaded">2021-07-04T13:30:10+08:00</i> </span></div><div> <span> 更新于 <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="2022-01-22, 21:24 +0800" >2022-01-22<i class="unloaded">2022-01-22T21:24:09+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1862 字">10 分钟 阅读</span></div></div><div class="post-content"><h2 id="naming-and-ordering-within-the-file">Naming and ordering within the file</h2><h3 id="location-of-build-files">Location of build files</h3><p>It usually makes sense to have more build files closer to the code than fewer ones at the top level; this is in contrast with what we did with GYP. This makes things easier to find, and also makes the set of owners required for reviews smaller since changes are more focused to particular subdirectories.</p><h3 id="targets">Targets</h3><ul><li>Most BUILD files should have a target with the same name as the directory. This target should be the first target.<li>Other targets should be in some logical order – usually more important targets will be first, and unit tests will follow the corresponding target. If there’s no clear ordering, consider alphabetical order.<li>Test support libraries should be static libraries named “test_support”. For example, “//ui/compositor:test_support”. Test support libraries should include as public deps the non-test-support version of the library so tests need only depend on the test_support target (rather than both).</ul><p>Naming advice</p><ul><li>Targets and configs should be named using lowercase with underscores separating words, unless there is a strong reason to do otherwise.<li>Source sets, groups, and static libraries do not need globally unique names. Prefer to give such targets short, non-redundant names without worrying about global uniqueness. For example, it looks much better to write a dependency as <code class="language-plaintext highlighter-rouge">"//mojo/public/bindings"</code> rather than <code class="language-plaintext highlighter-rouge">"//mojo/public/bindings:mojo_bindings"</code><li>Shared libraries (and by extension, components) must have globally unique output names. Give such targets short non-unique names above, and then provide a globally unique <code class="language-plaintext highlighter-rouge">output_name</code> for that target.<li>Executables and tests should be given a globally unique name. Technically only the output names must be unique, but since only the output names appear in the shell and on bots, it’s much less confusing if the name matches the other places the executable appears.</ul><h3 id="configs">Configs</h3><ul><li>A config associated with a single target should be named the same as the target with <code class="language-plaintext highlighter-rouge">_config</code> following it.<li>A config should appear immediately before the corresponding target that uses it.</ul><h3 id="example">Example</h3><p>Example for the <code class="language-plaintext highlighter-rouge">src/foo/BUILD.gn</code> file:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre># Copyright 2016 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Config for foo is named foo_config and immediately precedes it in the file.
config("foo_config") {
}

# Target matching path name is the first target.
executable("foo") {
}

# Test for foo follows it.
test("foo_unittests") {
}

config("bar_config") {
}

source_set("bar") {
}
</pre></table></code></div></div><h2 id="ordering-within-a-target">Ordering within a target</h2><ol><li><code class="language-plaintext highlighter-rouge">output_name</code> / <code class="language-plaintext highlighter-rouge">visibility</code> / <code class="language-plaintext highlighter-rouge">testonly</code><li><code class="language-plaintext highlighter-rouge">sources</code><li><code class="language-plaintext highlighter-rouge">cflags</code>, <code class="language-plaintext highlighter-rouge">include_dirs</code>, <code class="language-plaintext highlighter-rouge">defines</code>, <code class="language-plaintext highlighter-rouge">configs</code> etc. in whatever order makes sense to you.<li><code class="language-plaintext highlighter-rouge">public_deps</code><li><code class="language-plaintext highlighter-rouge">deps</code></ol><h3 id="conditions">Conditions</h3><p>Simple conditions affecting just one variable (e.g. adding a single source or adding a flag for one particular OS) can go beneath the variable they affect. More complicated conditions affecting more than one thing should go at the bottom.</p><p>Conditions should be written to minimize the number of conditional blocks.</p><h2 id="formatting-and-indenting">Formatting and indenting</h2><p>GN contains a built-in code formatter which defines the formatting style. Some additional notes:</p><ul><li>Variables are <code class="language-plaintext highlighter-rouge">lower_case_with_underscores</code>.<li>Comments should be complete sentences with periods at the end.<li>Compiler flags and such should always be commented with what they do and why the flag is needed.</ul><h3 id="sources">Sources</h3><p>Prefer to list sources only once. It is OK to conditionally include sources rather than listing them all at the top and then conditionally excluding them when they don’t apply. Conditional inclusion is often clearer since a file is only listed once and it’s easier to reason about when reading.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>  sources = [
    "main.cc",
  ]
  if (use_aura) {
    sources += [ "thing_aura.cc" ]
  }
  if (use_gtk) {
    sources += [ "thing_gtk.cc" ]
  }
</pre></table></code></div></div><h3 id="deps">Deps</h3><ul><li>Deps should be in alphabetical order.<li>Deps within the current file should be written first and not qualified with the file name (just <code class="language-plaintext highlighter-rouge">:foo</code>).<li>Other deps should always use fully-qualified path names unless relative ones are required for some reason.</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>  deps = [
    ":a_thing",
    ":mystatic",
    "//foo/bar:other_thing",
    "//foo/baz:that_thing",
  ]
</pre></table></code></div></div><h3 id="import">Import</h3><p>Use fully-qualified paths for imports:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>import("//foo/bar/baz.gni")  # Even if this file is in the foo/bar directory
</pre></table></code></div></div><h2 id="usage">Usage</h2><h3 id="source-sets-versus-static-libraries">Source sets versus static libraries</h3><p>Source sets and static libraries can be used interchangeably in most cases. If you’re unsure what to use, a source set is almost never wrong and is less likely to cause problems, but on a large project using the right kind of target can be important, so you should know about the following tradeoffs.</p><p>Static libraries follow different linking rules. When a static library is included in a link, only the object files that contain unresolved symbols will be brought into the build. Source sets result in every object file being added to the link line of the final binary.</p><ul><li><p>If you’re eventually linking code into a component, shared library, or loadable module, you normally need to use source sets. This is because object files with no symbols referenced from within the shared library will not be linked into the final library at all. This omission will happen even if that object file has a symbol marked for export that targets dependent on that shared library need. This will result in undefined symbols when linking later targets.</p><li><p>Unit tests (and anything else with static initializers with side effects) must use source sets. The gtest TEST macros create static initializers that register the test. But since no code references symbols in the object file, linking a test into a static library and then into a test executable means the tests will get stripped.</p><li><p>On some platforms, static libraries may involve duplicating all of the data in the object files that comprise it. This takes more disk space and for certain very large libraries in configurations with very large object files can cause internal limits on the size of static libraries to be exceeded. Source sets do not have this limitation. Some targets switch between source sets and static libraries depending on the build configuration to avoid this problem. Some platforms (or toolchains) may support something called “thin archives” which don’t have this problem; but you can’t rely on this as a portable solution.</p><li><p>Source sets can have no sources, while static libraries will give strange platform-specific errors if they have no sources. If a target has only headers (for include checking purposes) or conditionally has no sources on some platforms, use a source set.</p><li><p>In cases where a lot of the symbols are not needed for a particular link (this especially happens when linking test binaries), putting that code in a static library can dramatically increase linking performance. This is because the object files not needed for the link are never considered in the first place, rather than forcing the linker to strip the unused code in a later pass when nothing references it.</p></ul><h3 id="components-versus-shared-libraries-versus-source-sets">Components versus shared libraries versus source sets</h3><p>A component is a Chrome template (rather than a built-in GN concept) that expands either to a shared library or a static library / source set depending on the value of the <code class="language-plaintext highlighter-rouge">is_component_build</code> variable. This allows release builds to be linked statically in a large binary, but for developers to use shared libraries for most operations. Chrome developers should almost always use a component instead of shared library directly.</p><p>Much like the source set versus static library tradeoff, there’s no hard and fast rule as to when you should use a component or not. Using components can significantly speed up incremental builds by making linking much faster, but they require you to have to think about which symbols need to be exported from the target.</p><h3 id="loadable-modules-versus-shared-libraries">Loadable modules versus shared libraries</h3><p>A shared library will be listed on the link line of dependent targets and will be loaded automatically by the operating system when the application starts and symbols automatically resolved. A loadable module will not be linked directly and the application must manually load it.</p><p>On Windows and Linux shared libraries and loadable modules result in the same type of file (<code class="language-plaintext highlighter-rouge">.dll</code> and <code class="language-plaintext highlighter-rouge">.so</code>, respectively). The only difference is in how they are linked to dependent targets. On these platforms, having a <code class="language-plaintext highlighter-rouge">deps</code> dependency on a loadable module is the same as having a <code class="language-plaintext highlighter-rouge">data_deps</code> (non-linked) dependency on a shared library.</p><p>On Mac, these targets have different formats: a shared library will generate a <code class="language-plaintext highlighter-rouge">.dylib</code> file and a loadable module will generate a <code class="language-plaintext highlighter-rouge">.so</code> file.</p><p>Use loadable modules for things like plugins. In the case of plugin-like libraries, it’s good practice to use both a loadable module for the target type (even for platforms where it doesn’t matter) and data deps for targets that depend on it so it’s clear from both places that how the library will be linked and loaded.</p><h2 id="build-arguments">Build arguments</h2><h3 id="scope">Scope</h3><p>Build arguments should be scoped to a unit of behavior, e.g. enabling a feature. Typically an argument would be declared in an imported file to share it with the subset of the build that could make use of it.</p><p>Chrome has many legacy flags in <code class="language-plaintext highlighter-rouge">//build/config/features.gni</code>, <code class="language-plaintext highlighter-rouge">//build/config/ui.gni</code>. These locations are deprecated. Feature flags should go along with the code for the feature. Many browser-level features can go somewhere in <code class="language-plaintext highlighter-rouge">//chrome/</code> without lower-level code knowing about it. Some UI environment flags can go into <code class="language-plaintext highlighter-rouge">//ui/</code>, and many flags can also go with the corresponding code in <code class="language-plaintext highlighter-rouge">//components/</code>. You can write a <code class="language-plaintext highlighter-rouge">.gni</code> file in components and have build files in chrome or content import it if necessary.</p><p>The way to think about things in the <code class="language-plaintext highlighter-rouge">//build</code> directory is that this is DEPSed into various projects like V8 and WebRTC. Build flags specific to code outside of the build directory shouldn’t be in the build directory, and V8 shouldn’t get feature defines for Chrome features.</p><p>New feature defines should use the buildflag system. See <code class="language-plaintext highlighter-rouge">//build/buildflag_header.gni</code> which allows preprocessor defines to be modularized without many of the disadvantages that made us use global defines in the past.</p><h3 id="type">Type</h3><p>Arguments support all the <a href="/posts/gn-language/">GN language types</a> #Language.</p><p>In the vast majority of cases <code class="language-plaintext highlighter-rouge">boolean</code> is the preferred type, since most arguments are enabling or disabling features or includes.</p><p><code class="language-plaintext highlighter-rouge">String</code>s are typically used for filepaths. They are also used for enumerated types, though <code class="language-plaintext highlighter-rouge">integer</code>s are sometimes used as well.</p><h3 id="naming-conventions">Naming conventions</h3><p>While there are no hard and fast rules around argument naming there are many common conventions. If you ever want to see the current list of argument names and default values for your current checkout use <code class="language-plaintext highlighter-rouge">gn args out/Debug --list --short</code>.</p><p><code class="language-plaintext highlighter-rouge">use_foo</code> - indicates dependencies or major codepaths to include (e.g. <code class="language-plaintext highlighter-rouge">use_open_ssl</code>, <code class="language-plaintext highlighter-rouge">use_ozone</code>, <code class="language-plaintext highlighter-rouge">use_cups</code>)</p><p><code class="language-plaintext highlighter-rouge">enable_foo</code> - indicates feature or tools to be enabled (e.g. <code class="language-plaintext highlighter-rouge">enable_google_now</code>, <code class="language-plaintext highlighter-rouge">enable_nacl</code>, <code class="language-plaintext highlighter-rouge">enable_remoting</code>, <code class="language-plaintext highlighter-rouge">enable_pdf</code>)</p><p><code class="language-plaintext highlighter-rouge">disable_foo</code> - <em>NOT</em> recommended, use <code class="language-plaintext highlighter-rouge">enable_foo</code> instead with swapped default value</p><p><code class="language-plaintext highlighter-rouge">is_foo</code> - usually a global state descriptor (e.g. <code class="language-plaintext highlighter-rouge">is_chrome_branded</code>, <code class="language-plaintext highlighter-rouge">is_desktop_linux</code>); poor choice for non-globals</p><p><code class="language-plaintext highlighter-rouge">foo_use_bar</code> - prefixes can be used to indicate a limited scope for an argument (e.g. <code class="language-plaintext highlighter-rouge">rtc_use_h264</code>, <code class="language-plaintext highlighter-rouge">v8_use_snapshot</code>)</p><h4 id="variables">Variables</h4><p>Prefix top-level local variables within <code class="language-plaintext highlighter-rouge">.gni</code> files with an underscore. This prefix causes variables to be unavailable to importing scripts.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>_this_var_will_not_be_exported = 1
but_this_one_will = 2
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E8%89%BA%E6%90%9C%E6%96%87%E6%A1%A3/'>艺搜文档</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gn/" class="post-tag no-text-decoration" >gn</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=GN Style Guide - 艺搜天下&url=https://elesos.github.io/posts/gn-style_guide/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=GN Style Guide - 艺搜天下&u=https://elesos.github.io/posts/gn-style_guide/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=GN Style Guide - 艺搜天下&url=https://elesos.github.io/posts/gn-style_guide/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>最近更新</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/use-notepad-batch-change-utf8/">使用 notepad++宏 批量替换文件编码</a><li><a href="/posts/wechat-mp-devel-faq/">微信公众号开发常见问题</a><li><a href="/posts/post-standard/">定一个博客写作标准</a><li><a href="/posts/scrapy-install/">Scrapy 安装</a><li><a href="/posts/ngrok-rpi/">Ngrok 内网穿透 树莓派</a></ul></div><div id="access-tags"> <span>热门标签</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E4%B9%A6%E6%91%98/">书摘</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/qt/">qt</a> <a class="post-tag" href="/tags/%E8%89%BA%E6%90%9C%E7%99%BE%E7%A7%91/">艺搜百科</a> <a class="post-tag" href="/tags/%E8%89%BA%E6%90%9C%E8%BD%AF%E4%BB%B6/">艺搜软件</a> <a class="post-tag" href="/tags/php/">php</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/ffmpeg/">ffmpeg</a> <a class="post-tag" href="/tags/linux/">linux</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">文章内容</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/gn-primer/"><div class="card-body"> <span class="timeago small" >2021-07-04<i class="unloaded">2021-07-04T13:30:10+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Google gn简明教程</h3><div class="text-muted small"><p> https://gn.googlesource.com/gn/ generates build files for Ninja. 重要文件 .gn : Defines root of GN build tree 共享的变量放在gni文件中，通过 import导入 查有哪些targets 1 2 gn ls out/Default “//base/*” 查看可用参数列表及其默...</p></div></div></a></div><div class="card"> <a href="/posts/gn-intro/"><div class="card-body"> <span class="timeago small" >2022-04-01<i class="unloaded">2022-04-01T23:30:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>工欲善其事，必先利其器之gn使用</h3><div class="text-muted small"><p> https://chromium.googlesource.com/chromium/src/tools/gn/+/48062805e19b4697c5fbd926dc649c78b6aaa138/docs/quick_start.md https://chromium.googlesource.com/chromium/src/tools/gn/+/48062805e19b4697c5f...</p></div></div></a></div><div class="card"> <a href="/posts/gn-cross_compiles/"><div class="card-body"> <span class="timeago small" >2021-07-04<i class="unloaded">2021-07-04T13:30:10+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How GN handles cross-compiling</h3><div class="text-muted small"><p> As a GN user GN has robust support for doing cross compiles and building things for multiple architectures in a single build (e.g., to build some things to run locally and some things to run on an...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/gn-standalone/" class="btn btn-outline-primary" prompt="上一篇"><p>GN Introduction</p></a> <a href="/posts/gn-primer/" class="btn btn-outline-primary" prompt="下一篇"><p>Google gn简明教程</p></a></div><div class="utterances-container"> <script src="https://utteranc.es/client.js" repo="elesos/elesos.github.io" issue-term="title" label="Comment" theme="github-dark" crossorigin="anonymous" async> </script></div><script type="text/javascript"> $(function() { window.onmessage = evt => { if (evt.origin === 'https://utteranc.es') { toggle.updateCommentStyle(); window.onmessage = null; } } }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/hnrayer">elesos</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">热门标签</h4><a class="post-tag" href="/tags/%E4%B9%A6%E6%91%98/">书摘</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/qt/">qt</a> <a class="post-tag" href="/tags/%E8%89%BA%E6%90%9C%E7%99%BE%E7%A7%91/">艺搜百科</a> <a class="post-tag" href="/tags/%E8%89%BA%E6%90%9C%E8%BD%AF%E4%BB%B6/">艺搜软件</a> <a class="post-tag" href="/tags/php/">php</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/ffmpeg/">ffmpeg</a> <a class="post-tag" href="/tags/linux/">linux</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
