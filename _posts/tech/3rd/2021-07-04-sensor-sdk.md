---
layout: post
title: 神策SDK
date: 2021-07-04 17:18:23 +0800
categories: [艺搜科技,第三方库]
tags: [第三方库]
---

# C++ SDK

https://github.com/sensorsdata/sa-sdk-cpp

若直接引入源代码文件并使用 Visual Studio 编译报错，

文件->高级保存选项->编码->Unicode-代码页1200”

## 神策分析

在哪些地方埋什么样的点，需要数据产品经理输出埋点需求文档 （拆解为单个的点击或浏览） 如果遇到一些会发生变化的属性，比如用户的 VIP 等级，不能只作为用户属 性传进用户表中，还需在事件表中，记录一个 “当前发生事件 VIP 等级” 这个属性 因为当前会员等级的统计，和发生事件时用户的会员等级统计是两种情况。



## 用户关联

如果用设备 ID 来唯一标识这名用户，缺点是同一台手机被多个用户用过，老用户换新手机也会被识别为一个全新的用户

在用户未登录的情况下，神策会选取设备 ID 作为唯一标识，登录状态下选取 userid ，通过“用户关联”将同一个用户的设备 ID 和登录 ID 关联到一起

关联时机一般在用户发生注册、登录以及第三方登录时进行关联，另外初始化 SDK 之后，也需要调用神策的“关联接口”

first_id 取值为设备 ID，second_id 取值为 user_id。

需要注意属性类型，如Android 端的金额属性叫 money，类型是数字，而 iOS 端使用的是字符串类型，会导致数据无法导入。


客户端埋点 Vs. 在后端记录 Event 除非某个行为只在前端发生，对后端没有任何请求，否则建议在后端收集数据。
